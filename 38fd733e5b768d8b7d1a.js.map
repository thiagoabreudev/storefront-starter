{"version":3,"sources":["webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/scss/EcSearchEngine.scss?6864","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/scss/EcSearchEngine.scss?0f09","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/scss/EcSearchEngine.scss","webpack:///./node_modules/@ecomplus/widget-search-engine/src/lib/dictionary.js","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/js/EcSearchEngine.js?b485","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/js/EcSearchEngine.js","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/EcSearchEngine.vue","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/html/EcSearchEngine.html","webpack:///./node_modules/@ecomplus/widget-search-engine/src/index.js"],"names":["content","module","i","locals","exports","add","default","___CSS_LOADER_API_IMPORT___","push","dictionary","items","en_us","pt_br","filter","results","sort","searching_for","no_results_for","brands","categories","refine_search","close_filters","clear_filters","relevance","sales","lowest_price","highest_price","popular_products","search_again","name","components","EcProductCard","props","lang","type","String","$ecomConfig","get","storeId","Number","term","page","pageSize","Array","autoFixScore","Boolean","showFilters","navbarId","prerenderedHTML","data","ecomSearch","EcomSearch","this","currentPage","resultItems","fixedTerm","totalSearchResults","searching","loadingMore","searched","emptyResult","networkError","filters","lastSelectedFilter","selectedOptions","sortOptions","selectedSortOption","computed","hasSelectedOptions","length","countedItems","methods","word","fixTerm","autoFix","getTermSuggestions","forEach","options","text","opt","score","replace","setSearchTerm","history","shift","fetchItems","updateFilters","keepFilter","find","addFilter","isSpec","filterObj","show","optionsList","option","key","$set","getSpecs","index","isRetry","setPageNumber","fetch","then","getTotalCount","concat","getItems","reset","setTimeout","catch","err","console","error","response","status","finally","toggleFilters","toShow","$emit","filterLabel","label","toLowerCase","window","_data","isArray","grids","grid","grid_id","title","updateSearchFilter","setOptions","setBrandNames","setCategoryNames","setSpec","setFilterOption","isSet","optionIndex","indexOf","splice","clearFilters","setSortOrder","created","setPageSize","mounted","$nav","$refs","nav","document","getElementById","appendChild","onScrollTimer","addEventListener","clearTimeout","offsetTop","offsetHeight","$el","pageYOffset","screen","height","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","_t","_v","_s","_e","on","$event","scopedSlots","_u","fn","proxy","_l","sortOption","preventDefault","directives","rawName","value","expression","class","model","callback","$$v","domProps","ev","target","checked","doc_count","style","opacity","product","_id","elId","$searchEngine","$overlay","storefront","urlParams","URLSearchParams","location","search","Vue","render","createElement","vm","EcSearchEngine","id","parseInt","getAll","outerHTML","canShow","once","hide","$mount"],"mappings":"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","file":"38fd733e5b768d8b7d1a.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??postcss!../../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-3!./EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bbab901e\", content, true, {});","import mod from \"-!../../../../../vue-style-loader/index.js!../../../../../css-loader/dist/cjs.js!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??postcss!../../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-3!./EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../vue-style-loader/index.js!../../../../../css-loader/dist/cjs.js!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??postcss!../../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-3!./EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ec-search-engine__nav{background:hsla(0,0%,50.2%,.1);color:var(--gray)}.ec-search-engine__count{padding-left:.5rem;position:relative;line-height:2.5}.ec-search-engine__spinner{position:absolute;top:.4rem;right:-3rem;color:var(--secondary);margin-left:1.5rem;width:1.75rem;height:1.75rem}.ec-search-engine__toggle{color:inherit;display:inline-block;text-decoration:none;transition:opacity .15s,color .2s;padding:0 .5rem;opacity:.75;line-height:2.5;border:none}.ec-search-engine__toggle i,.ec-search-engine__toggle svg{font-size:.825rem;color:var(--gray-dark);margin-right:.15rem}.ec-search-engine__toggle:focus,.ec-search-engine__toggle:hover{opacity:1;text-decoration:none;color:inherit;box-shadow:none}.ec-search-engine__toggle[aria-expanded=true]{color:var(--gray-dark);opacity:1}.ec-search-engine__results{transition:opacity .25s}.ec-search-engine__info{margin-bottom:1.5rem;padding-top:1rem}.ec-search-engine__terms{display:flex;justify-content:space-between;align-items:center}.ec-search-engine__terms small{font-size:.95rem;color:var(--gray)}.ec-search-engine__retail{padding-top:.5rem}.ec-search-engine__item{margin-bottom:1rem}.ec-search-engine__sidebar{position:fixed;width:280px;max-width:100%;height:100%;top:0;right:0;z-index:1100;border-radius:0}.ec-search-engine__sidebar .card-body{overflow-y:auto}.ec-search-engine__filter:not(:first-child){margin-top:1rem}.ec-search-engine__filter:last-child{margin-bottom:1.5rem}.ec-search-engine__filter__btn{padding-left:0;color:var(--secondary);font-size:1.2rem;font-weight:300}.ec-search-engine__filter__btn i,.ec-search-engine__filter__btn svg{margin-right:.25rem;color:var(--gray);opacity:.6}.ec-search-engine__filter__btn:focus{box-shadow:none}.ec-search-engine__option small{color:var(--gray)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","const dictionary = {\n  items: {\n    en_us: 'items',\n    pt_br: 'itens'\n  },\n  filter: {\n    en_us: 'filter',\n    pt_br: 'filtrar'\n  },\n  results: {\n    en_us: 'results',\n    pt_br: 'resultados'\n  },\n  sort: {\n    en_us: 'sort',\n    pt_br: 'ordenar'\n  },\n  searching_for: {\n    en_us: 'Searching for',\n    pt_br: 'Buscando por'\n  },\n  no_results_for: {\n    en_us: 'No results for',\n    pt_br: 'Nenhum resultado para'\n  },\n  brands: {\n    en_us: 'Brands',\n    pt_br: 'Marcas'\n  },\n  categories: {\n    en_us: 'Categories',\n    pt_br: 'Categorias'\n  },\n  refine_search: {\n    en_us: 'Refine search',\n    pt_br: 'Refinar busca'\n  },\n  close_filters: {\n    en_us: 'Close filters',\n    pt_br: 'Fechar filtros'\n  },\n  clear_filters: {\n    en_us: 'Clear filters',\n    pt_br: 'Limpar filtros'\n  },\n  relevance: {\n    en_us: 'Most relevant',\n    pt_br: 'Mais relevantes'\n  },\n  sales: {\n    en_us: 'Best sellers',\n    pt_br: 'Mais vendidos'\n  },\n  lowest_price: {\n    en_us: 'Lowest price',\n    pt_br: 'Menor preço'\n  },\n  highest_price: {\n    en_us: 'Highest price',\n    pt_br: 'Maior preço'\n  },\n  popular_products: {\n    en_us: 'Popular products',\n    pt_br: 'Produtos populares'\n  },\n  search_again: {\n    en_us: 'Search again',\n    pt_br: 'Buscar novamente'\n  }\n}\n\nexport default function (word, lang) {\n  if (!lang) {\n    lang = (this && this.lang) || 'en_us'\n  }\n  return (dictionary[word] && dictionary[word][lang]) || ''\n}\n","import mod from \"-!../../../../../babel-loader/lib/index.js??ref--1!./EcSearchEngine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../babel-loader/lib/index.js??ref--1!./EcSearchEngine.js?vue&type=script&lang=js&\"","import { $ecomConfig } from '@ecomplus/utils'\nimport EcomSearch from '@ecomplus/search-engine'\nimport dictionary from './../../lib/dictionary'\nimport EcProductCard from '@ecomplus/widget-product-card/src/components/EcProductCard.vue'\n\nexport default {\n  name: 'EcSearchEngine',\n\n  components: {\n    EcProductCard\n  },\n\n  props: {\n    lang: {\n      type: String,\n      default: $ecomConfig.get('lang')\n    },\n    storeId: {\n      type: Number,\n      default: $ecomConfig.get('store_id')\n    },\n    term: {\n      type: String\n    },\n    page: {\n      type: Number\n    },\n    pageSize: {\n      type: Number\n    },\n    brands: {\n      type: Array\n    },\n    categories: {\n      type: Array\n    },\n    autoFixScore: {\n      type: [Number, Boolean],\n      default: 0.6\n    },\n    showFilters: {\n      type: Boolean,\n      default: false\n    },\n    navbarId: String,\n    prerenderedHTML: String\n  },\n\n  data () {\n    return {\n      ecomSearch: new EcomSearch(this.storeId),\n      currentPage: 0,\n      resultItems: [],\n      fixedTerm: '',\n      totalSearchResults: 0,\n      searching: false,\n      loadingMore: false,\n      searched: false,\n      emptyResult: false,\n      networkError: false,\n      filters: [],\n      lastSelectedFilter: null,\n      selectedOptions: {},\n      sortOptions: [null, 'sales', 'lowest_price', 'highest_price'],\n      selectedSortOption: null\n    }\n  },\n\n  computed: {\n    hasSelectedOptions () {\n      for (const filter in this.selectedOptions) {\n        if (this.selectedOptions[filter] && this.selectedOptions[filter].length) {\n          return true\n        }\n      }\n      return false\n    },\n\n    countedItems () {\n      return (this.pageSize || 24) * (this.currentPage - 1) + this.resultItems.length\n    }\n  },\n\n  methods: {\n    dictionary,\n\n    fixTerm () {\n      if (this.term) {\n        let fixedTerm = this.term\n        let autoFix = true\n        this.ecomSearch.getTermSuggestions().forEach(({ options, text }) => {\n          if (options.length) {\n            const opt = options[0]\n            if (opt.score < this.autoFixScore) {\n              autoFix = false\n            }\n            fixedTerm = fixedTerm.replace(text, opt.text)\n          }\n        })\n        if (autoFix && fixedTerm !== this.term) {\n          this.fixedTerm = fixedTerm\n          this.ecomSearch.setSearchTerm(fixedTerm).history.shift()\n          this.fetchItems()\n          return true\n        }\n      }\n      return false\n    },\n\n    updateFilters () {\n      const keepFilter = this.filters.find(({ filter }) => filter === this.lastSelectedFilter)\n      this.filters = keepFilter ? [keepFilter] : []\n      const addFilter = (filter, options, isSpec) => {\n        if (this.lastSelectedFilter !== filter) {\n          this.filters.push({\n            filter,\n            filterObj: {\n              show: this.filters.length < 5,\n              options\n            },\n            isSpec\n          })\n          const { selectedOptions } = this\n          const optionsList = selectedOptions[filter]\n            ? selectedOptions[filter].filter(option => options.find(({ key }) => key === option))\n            : []\n          this.$set(this.selectedOptions, filter, optionsList)\n        }\n      }\n      ;['Brands', 'Categories'].forEach(filter => {\n        addFilter(filter, this.ecomSearch[`get${filter}`]())\n      })\n      this.ecomSearch.getSpecs().forEach(({ key, options }, index) => {\n        addFilter(key, options, true)\n      })\n    },\n\n    fetchItems (page, isRetry) {\n      const { ecomSearch } = this\n      this.searching = true\n      this.loadingMore = page > 1 || this.page > 1\n      ecomSearch.setPageNumber(page).fetch()\n        .then(() => {\n          this.totalSearchResults = ecomSearch.getTotalCount()\n          if (this.totalSearchResults || this.fixedTerm || !this.fixTerm()) {\n            if (page) {\n              this.currentPage = page\n              this.resultItems = this.resultItems.concat(ecomSearch.getItems())\n            } else {\n              this.currentPage = 1\n              this.resultItems = ecomSearch.getItems()\n            }\n            if (!this.searched) {\n              if (!this.resultItems.length) {\n                ecomSearch.reset()\n                this.emptyResult = true\n                return this.fetchItems()\n              }\n              setTimeout(() => {\n                this.searched = true\n              }, 10)\n            }\n            this.updateFilters()\n            this.networkError = false\n          }\n        })\n        .catch(err => {\n          console.error(err)\n          if (!isRetry && (!err.response || err.response.status !== 400)) {\n            this.fetchItems(page, true)\n          } else {\n            this.networkError = true\n          }\n        })\n        .finally(() => {\n          this.searching = this.loadingMore = false\n        })\n    },\n\n    toggleFilters (toShow = false) {\n      this.$emit('update:showFilters', toShow)\n    },\n\n    filterLabel (filter) {\n      const label = this.dictionary(filter.toLowerCase())\n      if (!label && window._data && Array.isArray(window._data.grids)) {\n        const grid = window._data.grids.find(grid => grid.grid_id === filter)\n        if (grid) {\n          return grid.title || grid.grid_id\n        }\n      }\n      return label || filter\n    },\n\n    updateSearchFilter (filter) {\n      const { ecomSearch } = this\n      let setOptions = this.selectedOptions[filter]\n      if (!setOptions.length) {\n        setOptions = null\n      }\n      switch (filter) {\n        case 'Brands':\n          ecomSearch.setBrandNames(setOptions)\n          break\n        case 'Categories':\n          ecomSearch.setCategoryNames(setOptions)\n          break\n        default:\n          ecomSearch.setSpec(filter, setOptions)\n      }\n    },\n\n    setFilterOption (filter, option, isSet) {\n      const { selectedOptions } = this\n      const optionsList = selectedOptions[filter]\n      if (isSet) {\n        this.lastSelectedFilter = filter\n        optionsList.push(option)\n      } else {\n        const optionIndex = optionsList.indexOf(option)\n        if (optionIndex > -1) {\n          optionsList.splice(optionIndex, 1)\n        }\n        if (!optionsList.length && this.lastSelectedFilter === filter) {\n          this.lastSelectedFilter = null\n        }\n      }\n      this.updateSearchFilter(filter)\n      this.fetchItems()\n    },\n\n    clearFilters () {\n      const { selectedOptions } = this\n      for (const filter in selectedOptions) {\n        if (selectedOptions[filter]) {\n          selectedOptions[filter] = []\n          this.updateSearchFilter(filter)\n        }\n      }\n      this.fetchItems()\n    },\n\n    setSortOrder (sort) {\n      this.selectedSortOption = sort\n      this.ecomSearch.setSortOrder(sort)\n      this.fetchItems()\n    }\n  },\n\n  created () {\n    const {\n      ecomSearch,\n      term,\n      page,\n      pageSize,\n      brands,\n      categories\n    } = this\n    if (term) {\n      ecomSearch.setSearchTerm(term)\n    }\n    if (Array.isArray(brands) && brands.length) {\n      ecomSearch.setBrandNames(brands)\n    }\n    if (Array.isArray(categories) && categories.length) {\n      ecomSearch.setCategoryNames(categories)\n    }\n    ecomSearch.setPageSize(pageSize || 24)\n    this.fetchItems(page || 1)\n  },\n\n  mounted () {\n    if (this.navbarId) {\n      const $nav = this.$refs.nav\n      document.getElementById(this.navbarId).appendChild($nav)\n    }\n    let onScrollTimer\n    window.addEventListener('scroll', () => {\n      clearTimeout(onScrollTimer)\n      if (!this.searching && this.totalSearchResults > this.countedItems) {\n        onScrollTimer = setTimeout(() => {\n          const { offsetTop, offsetHeight } = this.$el\n          if (window.pageYOffset + window.screen.height >= offsetTop + offsetHeight) {\n            this.fetchItems(this.currentPage + 1)\n          }\n        }, 100)\n      }\n    })\n  }\n}\n","import { render, staticRenderFns } from \"./html/EcSearchEngine.html?vue&type=template&id=42d19eee&lang=html&\"\nimport script from \"./js/EcSearchEngine.js?vue&type=script&lang=js&\"\nexport * from \"./js/EcSearchEngine.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"ec-search-engine\"},[_c('nav',{ref:\"nav\"},[_c('portal-target',{attrs:{\"name\":\"search-nav\"}})],1),_c('portal',{attrs:{\"to\":\"search-nav\"}},[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown fast\"}},[(_vm.searched && (_vm.searching || _vm.totalSearchResults > 8 || _vm.hasSelectedOptions))?_c('div',{staticClass:\"ec-search-engine__nav\"},[_vm._t(\"nav\",[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"ec-search-engine__count\"},[_c('strong',[_vm._v(_vm._s(_vm.totalSearchResults))]),_vm._v(\" \"+_vm._s(_vm.dictionary('items'))+\" \"),(_vm.searching)?_c('div',{staticClass:\"spinner-grow ec-search-engine__spinner\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()])]),_c('div',{staticClass:\"text-right col\"},[(_vm.hasSelectedOptions || _vm.filters.find(function (ref) {\n\tvar filterObj = ref.filterObj;\n\n\treturn filterObj.options.length;\n}))?_c('button',{staticClass:\"btn ec-search-engine__toggle\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleFilters(true)}}},[_c('i',{staticClass:\"fas fa-filter\"}),_vm._v(\" \"+_vm._s(_vm.dictionary('filter'))+\" \"),_c('span',{staticClass:\"d-none d-md-inline\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('results'))+\" \")])]):_vm._e(),_c('b-dropdown',{attrs:{\"variant\":\"link\",\"toggle-class\":\"ec-search-engine__toggle\",\"right\":\"\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-sort\"}),_c('span',{staticClass:\"d-none d-md-inline\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('sort'))+\" \")])]},proxy:true}],null,false,2883328033)},_vm._l((_vm.sortOptions),function(sortOption,index){return _c('b-dropdown-item',{key:(\"sort-\" + index),attrs:{\"href\":\"#\",\"active\":_vm.selectedSortOption === sortOption},on:{\"click\":function($event){$event.preventDefault();return _vm.setSortOrder(sortOption)}}},[_vm._v(\" \"+_vm._s(_vm.dictionary(sortOption || 'relevance'))+\" \")])}),1)],1)])])],null,{ totalSearchResults: _vm.totalSearchResults, toggleFilters: _vm.toggleFilters })],2):_vm._e()])],1),_c('transition',{attrs:{\"enter-active-class\":\"animated slideInRight\",\"leave-active-class\":\"animated slideOutRight\"}},[_c('aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFilters),expression:\"showFilters\"}],staticClass:\"ec-search-engine__sidebar card shadow\"},[_vm._t(\"filters\",[_c('header',{staticClass:\"card-header\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('refine_search'))+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":_vm.dictionary('close_filters')},on:{\"click\":function($event){return _vm.toggleFilters(false)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.filters),function(ref){\nvar filter = ref.filter;\nvar filterObj = ref.filterObj;\nvar isSpec = ref.isSpec;\nreturn (filterObj.options.length)?_c('div',{key:(\"filters-\" + filter),staticClass:\"ec-search-engine__filter\",class:(\"ec-search-engine__filter--\" + filter)},[_c('button',{staticClass:\"btn ec-search-engine__filter__btn\",attrs:{\"type\":\"button\",\"aria-expanded\":filterObj.show ? 'true' : 'false',\"aria-controls\":(\"collapse-\" + filter)},on:{\"click\":function($event){filterObj.show = !filterObj.show}}},[_c('i',{staticClass:\"fas fa-chevron-down\"}),_vm._v(\" \"+_vm._s(_vm.filterLabel(filter))+\" \")]),_c('b-collapse',{attrs:{\"id\":(\"collapse-\" + filter)},model:{value:(filterObj.show),callback:function ($$v) {_vm.$set(filterObj, \"show\", $$v)},expression:\"filterObj.show\"}},_vm._l((filterObj.options),function(opt,index){return _c('div',{key:(filter + \"-\" + index),staticClass:\"custom-control custom-checkbox ec-search-engine__option\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(filter + \"-\" + index)},domProps:{\"checked\":_vm.selectedOptions[filter].indexOf(opt.key) > -1},on:{\"change\":function (ev) { return _vm.setFilterOption(filter, opt.key, ev.target.checked); }}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(filter + \"-\" + index)}},[_vm._v(\" \"+_vm._s(opt.key)+\" \"),(!isSpec)?_c('small',[_vm._v(\" (\"+_vm._s(opt.doc_count)+\") \")]):_vm._e()])])}),0)],1):_vm._e()}),0),_c('footer',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-sm btn-block btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilters}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-trash-alt\"})]),_vm._v(\" \"+_vm._s(_vm.dictionary('clear_filters'))+\" \")])])])],2)]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn slower\"}},[(_vm.searched)?_c('div',{staticClass:\"ec-search-engine__results\",style:({ opacity: _vm.searching && !_vm.loadingMore ? 0.4 : 1 })},[_c('div',{staticClass:\"ec-search-engine__info\"},[(_vm.term)?[(_vm.emptyResult)?_c('div',{staticClass:\"ec-search-engine__no-results\"},[_c('div',{staticClass:\"lead\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('no_results_for'))+\" \"),_c('em',[_vm._v(_vm._s(_vm.term))])]),_c('h1',[_vm._v(_vm._s(_vm.dictionary('popular_products')))])]):_c('div',{staticClass:\"ec-search-engine__terms\"},[_c('h1',[_c('small',{staticClass:\"d-none d-md-block\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('searching_for'))+\": \")]),_vm._v(\" \"+_vm._s(_vm.fixedTerm || _vm.term)+\" \")]),(_vm.fixedTerm)?_c('em',{staticClass:\"d-none d-lg-block\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('no_results_for'))+\" \"),_c('s',[_vm._v(_vm._s(_vm.term))])]):_vm._e()])]:_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated position-absolute fadeOutUp\"}},[(_vm.hasSelectedOptions)?_c('div',[_c('button',{staticClass:\"btn btn-sm btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilters}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-trash-alt\"})]),_vm._v(\" \"+_vm._s(_vm.dictionary('clear_filters'))+\" \")]),_vm._l((_vm.selectedOptions),function(options,filter){return _vm._l((options),function(option){return _c('button',{staticClass:\"btn m-1 btn-sm btn-light\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setFilterOption(filter, option, false)}}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-times\"})]),_vm._v(\" \"+_vm._s(option)+\" \"),_c('small',[_vm._v(\"\\\\ \"+_vm._s(_vm.filterLabel(filter)))])])})})],2):_vm._e()])],2),_c('article',{staticClass:\"ec-search-engine__retail\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.resultItems),function(product){return _c('div',{key:product._id,staticClass:\"col-6 col-md-4 col-lg-3\"},[_vm._t(\"product\",[_c('ec-product-card',{staticClass:\"ec-search-engine__item\",attrs:{\"lang\":_vm.lang,\"storeId\":_vm.storeId,\"product\":product}})],null,{ product: product })],2)}),0)]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated position-absolute fadeOutUp\"}},[(_vm.networkError)?_c('div',{staticClass:\"alert alert-warning\",attrs:{\"role\":\"alert\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"Offline\")]),(_vm.lang === 'pt_br')?[_vm._v(\" Não foi possível buscar os produtos, por favor verifique sua conexão com a internet. \")]:[_vm._v(\" Unable to fetch the products, please check your internet connection. \")],_c('hr'),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.fetchItems(_vm.currentPage)}}},[_c('i',{staticClass:\"fas fa-search mr-1\"}),_vm._v(\" \"+_vm._s(_vm.dictionary('search_again'))+\" \")])],2):_vm._e()])],1):_vm._e()]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated fadeOutUp\"}},[(!_vm.searched || _vm.loadingMore)?_vm._t(\"default\",[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.prerenderedHTML)}})]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * @ecomplus/widget-search-engine\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport '@ecomplus/storefront-twbs'\nimport EcSearchEngine from './components/EcSearchEngine.vue'\n\nexport default (options = {}, elId = 'search-engine') => {\n  const $searchEngine = document.getElementById(elId)\n\n  if ($searchEngine) {\n    const { $overlay } = window.storefront\n    const urlParams = new URLSearchParams(window.location.search)\n\n    new Vue({\n      data: {\n        showFilters: false\n      },\n\n      render (createElement) {\n        const vm = this\n        return createElement(EcSearchEngine, {\n          attrs: {\n            id: elId\n          },\n          props: {\n            ...options.props,\n            term: urlParams.get('term'),\n            page: parseInt(urlParams.get('page'), 10),\n            brands: urlParams.getAll('brands'),\n            categories: urlParams.getAll('categories'),\n            navbarId: 'header',\n            showFilters: vm.showFilters,\n            prerenderedHTML: $searchEngine.outerHTML\n          },\n\n          on: {\n            'update:showFilters' (canShow) {\n              vm.showFilters = canShow\n              if ($overlay) {\n                if (canShow) {\n                  $overlay.show()\n                  $overlay.once('hide', () => {\n                    vm.showFilters = false\n                  })\n                } else {\n                  $overlay.hide()\n                }\n              }\n            }\n          }\n        })\n      }\n    }).$mount($searchEngine)\n  }\n}\n"],"sourceRoot":""}