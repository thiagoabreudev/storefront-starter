{"version":3,"sources":["webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/scss/EcSearchEngine.scss?30e9","webpack:///./node_modules/@ecomplus/widget-search-engine/src/lib/dictionary.js","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/js/EcSearchEngine.js?b485","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/js/EcSearchEngine.js","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/EcSearchEngine.vue","webpack:///./node_modules/@ecomplus/widget-search-engine/src/components/html/EcSearchEngine.html","webpack:///./node_modules/@ecomplus/widget-search-engine/src/index.js"],"names":["dictionary","items","en_us","pt_br","filter","results","sort","searching_for","no_results_for","brands","categories","refine_search","close_filters","clear_filters","relevance","sales","lowest_price","highest_price","popular_products","search_again","name","components","EcProductCard","props","lang","type","String","default","$ecomConfig","get","storeId","Number","term","page","pageSize","Array","autoFixScore","Boolean","showFilters","navbarId","prerenderedHTML","data","ecomSearch","EcomSearch","this","currentPage","resultItems","fixedTerm","totalSearchResults","searching","loadingMore","searched","emptyResult","networkError","filters","lastSelectedFilter","selectedOptions","sortOptions","selectedSortOption","computed","hasSelectedOptions","length","countedItems","methods","word","fixTerm","autoFix","getTermSuggestions","forEach","options","text","opt","score","replace","setSearchTerm","history","shift","fetchItems","updateFilters","keepFilter","find","addFilter","isSpec","push","filterObj","show","optionsList","option","key","$set","getSpecs","index","isRetry","setPageNumber","fetch","then","getTotalCount","concat","getItems","reset","setTimeout","catch","err","console","error","response","status","finally","toggleFilters","toShow","$emit","filterLabel","label","toLowerCase","window","_data","isArray","grids","grid","grid_id","title","updateSearchFilter","setOptions","setBrandNames","setCategoryNames","setSpec","setFilterOption","isSet","optionIndex","indexOf","splice","clearFilters","setSortOrder","created","setPageSize","mounted","onScrollTimer","$nav","$refs","nav","document","getElementById","appendChild","addEventListener","clearTimeout","$el","offsetTop","offsetHeight","pageYOffset","screen","height","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","_t","_v","_s","_e","on","$event","scopedSlots","_u","fn","proxy","_l","sortOption","preventDefault","directives","rawName","value","expression","class","model","callback","$$v","domProps","ev","target","checked","doc_count","style","opacity","product","_id","elId","$searchEngine","$overlay","storefront","urlParams","URLSearchParams","location","search","Vue","render","createElement","vm","EcSearchEngine","id","parseInt","getAll","outerHTML","canShow","once","hide","$mount"],"mappings":"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","file":"151e913da0b04686ba34.js","sourcesContent":["import mod from \"-!../../../../../mini-css-extract-plugin/dist/loader.js!../../../../../css-loader/dist/cjs.js!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??postcss!../../../../../sass-loader/dist/cjs.js??ref--0-3!./EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../mini-css-extract-plugin/dist/loader.js!../../../../../css-loader/dist/cjs.js!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??postcss!../../../../../sass-loader/dist/cjs.js??ref--0-3!./EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"","const dictionary = {\n  items: {\n    en_us: 'items',\n    pt_br: 'itens'\n  },\n  filter: {\n    en_us: 'filter',\n    pt_br: 'filtrar'\n  },\n  results: {\n    en_us: 'results',\n    pt_br: 'resultados'\n  },\n  sort: {\n    en_us: 'sort',\n    pt_br: 'ordenar'\n  },\n  searching_for: {\n    en_us: 'Searching for',\n    pt_br: 'Buscando por'\n  },\n  no_results_for: {\n    en_us: 'No results for',\n    pt_br: 'Nenhum resultado para'\n  },\n  brands: {\n    en_us: 'Brands',\n    pt_br: 'Marcas'\n  },\n  categories: {\n    en_us: 'Categories',\n    pt_br: 'Categorias'\n  },\n  refine_search: {\n    en_us: 'Refine search',\n    pt_br: 'Refinar busca'\n  },\n  close_filters: {\n    en_us: 'Close filters',\n    pt_br: 'Fechar filtros'\n  },\n  clear_filters: {\n    en_us: 'Clear filters',\n    pt_br: 'Limpar filtros'\n  },\n  relevance: {\n    en_us: 'Most relevant',\n    pt_br: 'Mais relevantes'\n  },\n  sales: {\n    en_us: 'Best sellers',\n    pt_br: 'Mais vendidos'\n  },\n  lowest_price: {\n    en_us: 'Lowest price',\n    pt_br: 'Menor preço'\n  },\n  highest_price: {\n    en_us: 'Highest price',\n    pt_br: 'Maior preço'\n  },\n  popular_products: {\n    en_us: 'Popular products',\n    pt_br: 'Produtos populares'\n  },\n  search_again: {\n    en_us: 'Search again',\n    pt_br: 'Buscar novamente'\n  }\n}\n\nexport default function (word, lang) {\n  if (!lang) {\n    lang = (this && this.lang) || 'en_us'\n  }\n  return (dictionary[word] && dictionary[word][lang]) || ''\n}\n","import mod from \"-!../../../../../babel-loader/lib/index.js??ref--1!./EcSearchEngine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../babel-loader/lib/index.js??ref--1!./EcSearchEngine.js?vue&type=script&lang=js&\"","import { $ecomConfig } from '@ecomplus/utils'\nimport EcomSearch from '@ecomplus/search-engine'\nimport dictionary from './../../lib/dictionary'\nimport EcProductCard from '@ecomplus/widget-product-card/src/components/EcProductCard.vue'\n\nexport default {\n  name: 'EcSearchEngine',\n\n  components: {\n    EcProductCard\n  },\n\n  props: {\n    lang: {\n      type: String,\n      default: $ecomConfig.get('lang')\n    },\n    storeId: {\n      type: Number,\n      default: $ecomConfig.get('store_id')\n    },\n    term: {\n      type: String\n    },\n    page: {\n      type: Number\n    },\n    pageSize: {\n      type: Number\n    },\n    brands: {\n      type: Array\n    },\n    categories: {\n      type: Array\n    },\n    autoFixScore: {\n      type: [Number, Boolean],\n      default: 0.6\n    },\n    showFilters: {\n      type: Boolean,\n      default: false\n    },\n    navbarId: String,\n    prerenderedHTML: String\n  },\n\n  data () {\n    return {\n      ecomSearch: new EcomSearch(this.storeId),\n      currentPage: 0,\n      resultItems: [],\n      fixedTerm: '',\n      totalSearchResults: 0,\n      searching: false,\n      loadingMore: false,\n      searched: false,\n      emptyResult: false,\n      networkError: false,\n      filters: [],\n      lastSelectedFilter: null,\n      selectedOptions: {},\n      sortOptions: [null, 'sales', 'lowest_price', 'highest_price'],\n      selectedSortOption: null\n    }\n  },\n\n  computed: {\n    hasSelectedOptions () {\n      for (const filter in this.selectedOptions) {\n        if (this.selectedOptions[filter] && this.selectedOptions[filter].length) {\n          return true\n        }\n      }\n      return false\n    },\n\n    countedItems () {\n      return (this.pageSize || 24) * (this.currentPage - 1) + this.resultItems.length\n    }\n  },\n\n  methods: {\n    dictionary,\n\n    fixTerm () {\n      if (this.term) {\n        let fixedTerm = this.term\n        let autoFix = true\n        this.ecomSearch.getTermSuggestions().forEach(({ options, text }) => {\n          if (options.length) {\n            const opt = options[0]\n            if (opt.score < this.autoFixScore) {\n              autoFix = false\n            }\n            fixedTerm = fixedTerm.replace(text, opt.text)\n          }\n        })\n        if (autoFix && fixedTerm !== this.term) {\n          this.fixedTerm = fixedTerm\n          this.ecomSearch.setSearchTerm(fixedTerm).history.shift()\n          this.fetchItems()\n          return true\n        }\n      }\n      return false\n    },\n\n    updateFilters () {\n      const keepFilter = this.filters.find(({ filter }) => filter === this.lastSelectedFilter)\n      this.filters = keepFilter ? [keepFilter] : []\n      const addFilter = (filter, options, isSpec) => {\n        if (this.lastSelectedFilter !== filter) {\n          this.filters.push({\n            filter,\n            filterObj: {\n              show: this.filters.length < 5,\n              options\n            },\n            isSpec\n          })\n          const { selectedOptions } = this\n          const optionsList = selectedOptions[filter]\n            ? selectedOptions[filter].filter(option => options.find(({ key }) => key === option))\n            : []\n          this.$set(this.selectedOptions, filter, optionsList)\n        }\n      }\n      ;['Brands', 'Categories'].forEach(filter => {\n        addFilter(filter, this.ecomSearch[`get${filter}`]())\n      })\n      this.ecomSearch.getSpecs().forEach(({ key, options }, index) => {\n        addFilter(key, options, true)\n      })\n    },\n\n    fetchItems (page, isRetry) {\n      const { ecomSearch } = this\n      this.searching = true\n      this.loadingMore = page > 1 || this.page > 1\n      ecomSearch.setPageNumber(page).fetch()\n        .then(() => {\n          this.totalSearchResults = ecomSearch.getTotalCount()\n          if (this.totalSearchResults || this.fixedTerm || !this.fixTerm()) {\n            if (page) {\n              this.currentPage = page\n              this.resultItems = this.resultItems.concat(ecomSearch.getItems())\n            } else {\n              this.currentPage = 1\n              this.resultItems = ecomSearch.getItems()\n            }\n            if (!this.searched) {\n              if (!this.resultItems.length) {\n                ecomSearch.reset()\n                this.emptyResult = true\n                return this.fetchItems()\n              }\n              setTimeout(() => {\n                this.searched = true\n              }, 10)\n            }\n            this.updateFilters()\n            this.networkError = false\n          }\n        })\n        .catch(err => {\n          console.error(err)\n          if (!isRetry && (!err.response || err.response.status !== 400)) {\n            this.fetchItems(page, true)\n          } else {\n            this.networkError = true\n          }\n        })\n        .finally(() => {\n          this.searching = this.loadingMore = false\n        })\n    },\n\n    toggleFilters (toShow = false) {\n      this.$emit('update:showFilters', toShow)\n    },\n\n    filterLabel (filter) {\n      const label = this.dictionary(filter.toLowerCase())\n      if (!label && window._data && Array.isArray(window._data.grids)) {\n        const grid = window._data.grids.find(grid => grid.grid_id === filter)\n        if (grid) {\n          return grid.title || grid.grid_id\n        }\n      }\n      return label || filter\n    },\n\n    updateSearchFilter (filter) {\n      const { ecomSearch } = this\n      let setOptions = this.selectedOptions[filter]\n      if (!setOptions.length) {\n        setOptions = null\n      }\n      switch (filter) {\n        case 'Brands':\n          ecomSearch.setBrandNames(setOptions)\n          break\n        case 'Categories':\n          ecomSearch.setCategoryNames(setOptions)\n          break\n        default:\n          ecomSearch.setSpec(filter, setOptions)\n      }\n    },\n\n    setFilterOption (filter, option, isSet) {\n      const { selectedOptions } = this\n      const optionsList = selectedOptions[filter]\n      if (isSet) {\n        this.lastSelectedFilter = filter\n        optionsList.push(option)\n      } else {\n        const optionIndex = optionsList.indexOf(option)\n        if (optionIndex > -1) {\n          optionsList.splice(optionIndex, 1)\n        }\n        if (!optionsList.length && this.lastSelectedFilter === filter) {\n          this.lastSelectedFilter = null\n        }\n      }\n      this.updateSearchFilter(filter)\n      this.fetchItems()\n    },\n\n    clearFilters () {\n      const { selectedOptions } = this\n      for (const filter in selectedOptions) {\n        if (selectedOptions[filter]) {\n          selectedOptions[filter] = []\n          this.updateSearchFilter(filter)\n        }\n      }\n      this.fetchItems()\n    },\n\n    setSortOrder (sort) {\n      this.selectedSortOption = sort\n      this.ecomSearch.setSortOrder(sort)\n      this.fetchItems()\n    }\n  },\n\n  created () {\n    const {\n      ecomSearch,\n      term,\n      page,\n      pageSize,\n      brands,\n      categories\n    } = this\n    if (term) {\n      ecomSearch.setSearchTerm(term)\n    }\n    if (Array.isArray(brands) && brands.length) {\n      ecomSearch.setBrandNames(brands)\n    }\n    if (Array.isArray(categories) && categories.length) {\n      ecomSearch.setCategoryNames(categories)\n    }\n    ecomSearch.setPageSize(pageSize || 24)\n    this.fetchItems(page || 1)\n  },\n\n  mounted () {\n    if (this.navbarId) {\n      const $nav = this.$refs.nav\n      document.getElementById(this.navbarId).appendChild($nav)\n    }\n    let onScrollTimer\n    window.addEventListener('scroll', () => {\n      clearTimeout(onScrollTimer)\n      if (!this.searching && this.totalSearchResults > this.countedItems) {\n        onScrollTimer = setTimeout(() => {\n          const { offsetTop, offsetHeight } = this.$el\n          if (window.pageYOffset + window.screen.height >= offsetTop + offsetHeight) {\n            this.fetchItems(this.currentPage + 1)\n          }\n        }, 100)\n      }\n    })\n  }\n}\n","import { render, staticRenderFns } from \"./html/EcSearchEngine.html?vue&type=template&id=42d19eee&lang=html&\"\nimport script from \"./js/EcSearchEngine.js?vue&type=script&lang=js&\"\nexport * from \"./js/EcSearchEngine.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/EcSearchEngine.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"ec-search-engine\"},[_c('nav',{ref:\"nav\"},[_c('portal-target',{attrs:{\"name\":\"search-nav\"}})],1),_c('portal',{attrs:{\"to\":\"search-nav\"}},[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown fast\"}},[(_vm.searched && (_vm.searching || _vm.totalSearchResults > 8 || _vm.hasSelectedOptions))?_c('div',{staticClass:\"ec-search-engine__nav\"},[_vm._t(\"nav\",[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"ec-search-engine__count\"},[_c('strong',[_vm._v(_vm._s(_vm.totalSearchResults))]),_vm._v(\" \"+_vm._s(_vm.dictionary('items'))+\" \"),(_vm.searching)?_c('div',{staticClass:\"spinner-grow ec-search-engine__spinner\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()])]),_c('div',{staticClass:\"text-right col\"},[(_vm.hasSelectedOptions || _vm.filters.find(function (ref) {\n\tvar filterObj = ref.filterObj;\n\n\treturn filterObj.options.length;\n}))?_c('button',{staticClass:\"btn ec-search-engine__toggle\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleFilters(true)}}},[_c('i',{staticClass:\"fas fa-filter\"}),_vm._v(\" \"+_vm._s(_vm.dictionary('filter'))+\" \"),_c('span',{staticClass:\"d-none d-md-inline\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('results'))+\" \")])]):_vm._e(),_c('b-dropdown',{attrs:{\"variant\":\"link\",\"toggle-class\":\"ec-search-engine__toggle\",\"right\":\"\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-sort\"}),_c('span',{staticClass:\"d-none d-md-inline\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('sort'))+\" \")])]},proxy:true}],null,false,2883328033)},_vm._l((_vm.sortOptions),function(sortOption,index){return _c('b-dropdown-item',{key:(\"sort-\" + index),attrs:{\"href\":\"#\",\"active\":_vm.selectedSortOption === sortOption},on:{\"click\":function($event){$event.preventDefault();return _vm.setSortOrder(sortOption)}}},[_vm._v(\" \"+_vm._s(_vm.dictionary(sortOption || 'relevance'))+\" \")])}),1)],1)])])],null,{ totalSearchResults: _vm.totalSearchResults, toggleFilters: _vm.toggleFilters })],2):_vm._e()])],1),_c('transition',{attrs:{\"enter-active-class\":\"animated slideInRight\",\"leave-active-class\":\"animated slideOutRight\"}},[_c('aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFilters),expression:\"showFilters\"}],staticClass:\"ec-search-engine__sidebar card shadow\"},[_vm._t(\"filters\",[_c('header',{staticClass:\"card-header\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('refine_search'))+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":_vm.dictionary('close_filters')},on:{\"click\":function($event){return _vm.toggleFilters(false)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.filters),function(ref){\nvar filter = ref.filter;\nvar filterObj = ref.filterObj;\nvar isSpec = ref.isSpec;\nreturn (filterObj.options.length)?_c('div',{key:(\"filters-\" + filter),staticClass:\"ec-search-engine__filter\",class:(\"ec-search-engine__filter--\" + filter)},[_c('button',{staticClass:\"btn ec-search-engine__filter__btn\",attrs:{\"type\":\"button\",\"aria-expanded\":filterObj.show ? 'true' : 'false',\"aria-controls\":(\"collapse-\" + filter)},on:{\"click\":function($event){filterObj.show = !filterObj.show}}},[_c('i',{staticClass:\"fas fa-chevron-down\"}),_vm._v(\" \"+_vm._s(_vm.filterLabel(filter))+\" \")]),_c('b-collapse',{attrs:{\"id\":(\"collapse-\" + filter)},model:{value:(filterObj.show),callback:function ($$v) {_vm.$set(filterObj, \"show\", $$v)},expression:\"filterObj.show\"}},_vm._l((filterObj.options),function(opt,index){return _c('div',{key:(filter + \"-\" + index),staticClass:\"custom-control custom-checkbox ec-search-engine__option\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(filter + \"-\" + index)},domProps:{\"checked\":_vm.selectedOptions[filter].indexOf(opt.key) > -1},on:{\"change\":function (ev) { return _vm.setFilterOption(filter, opt.key, ev.target.checked); }}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(filter + \"-\" + index)}},[_vm._v(\" \"+_vm._s(opt.key)+\" \"),(!isSpec)?_c('small',[_vm._v(\" (\"+_vm._s(opt.doc_count)+\") \")]):_vm._e()])])}),0)],1):_vm._e()}),0),_c('footer',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-sm btn-block btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilters}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-trash-alt\"})]),_vm._v(\" \"+_vm._s(_vm.dictionary('clear_filters'))+\" \")])])])],2)]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn slower\"}},[(_vm.searched)?_c('div',{staticClass:\"ec-search-engine__results\",style:({ opacity: _vm.searching && !_vm.loadingMore ? 0.4 : 1 })},[_c('div',{staticClass:\"ec-search-engine__info\"},[(_vm.term)?[(_vm.emptyResult)?_c('div',{staticClass:\"ec-search-engine__no-results\"},[_c('div',{staticClass:\"lead\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('no_results_for'))+\" \"),_c('em',[_vm._v(_vm._s(_vm.term))])]),_c('h1',[_vm._v(_vm._s(_vm.dictionary('popular_products')))])]):_c('div',{staticClass:\"ec-search-engine__terms\"},[_c('h1',[_c('small',{staticClass:\"d-none d-md-block\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('searching_for'))+\": \")]),_vm._v(\" \"+_vm._s(_vm.fixedTerm || _vm.term)+\" \")]),(_vm.fixedTerm)?_c('em',{staticClass:\"d-none d-lg-block\"},[_vm._v(\" \"+_vm._s(_vm.dictionary('no_results_for'))+\" \"),_c('s',[_vm._v(_vm._s(_vm.term))])]):_vm._e()])]:_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated position-absolute fadeOutUp\"}},[(_vm.hasSelectedOptions)?_c('div',[_c('button',{staticClass:\"btn btn-sm btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilters}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-trash-alt\"})]),_vm._v(\" \"+_vm._s(_vm.dictionary('clear_filters'))+\" \")]),_vm._l((_vm.selectedOptions),function(options,filter){return _vm._l((options),function(option){return _c('button',{staticClass:\"btn m-1 btn-sm btn-light\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setFilterOption(filter, option, false)}}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-times\"})]),_vm._v(\" \"+_vm._s(option)+\" \"),_c('small',[_vm._v(\"\\\\ \"+_vm._s(_vm.filterLabel(filter)))])])})})],2):_vm._e()])],2),_c('article',{staticClass:\"ec-search-engine__retail\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.resultItems),function(product){return _c('div',{key:product._id,staticClass:\"col-6 col-md-4 col-lg-3\"},[_vm._t(\"product\",[_c('ec-product-card',{staticClass:\"ec-search-engine__item\",attrs:{\"lang\":_vm.lang,\"storeId\":_vm.storeId,\"product\":product}})],null,{ product: product })],2)}),0)]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated position-absolute fadeOutUp\"}},[(_vm.networkError)?_c('div',{staticClass:\"alert alert-warning\",attrs:{\"role\":\"alert\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"Offline\")]),(_vm.lang === 'pt_br')?[_vm._v(\" Não foi possível buscar os produtos, por favor verifique sua conexão com a internet. \")]:[_vm._v(\" Unable to fetch the products, please check your internet connection. \")],_c('hr'),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.fetchItems(_vm.currentPage)}}},[_c('i',{staticClass:\"fas fa-search mr-1\"}),_vm._v(\" \"+_vm._s(_vm.dictionary('search_again'))+\" \")])],2):_vm._e()])],1):_vm._e()]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\",\"leave-active-class\":\"animated fadeOutUp\"}},[(!_vm.searched || _vm.loadingMore)?_vm._t(\"default\",[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.prerenderedHTML)}})]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * @ecomplus/widget-search-engine\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport '@ecomplus/storefront-twbs'\nimport EcSearchEngine from './components/EcSearchEngine.vue'\n\nexport default (options = {}, elId = 'search-engine') => {\n  const $searchEngine = document.getElementById(elId)\n\n  if ($searchEngine) {\n    const { $overlay } = window.storefront\n    const urlParams = new URLSearchParams(window.location.search)\n\n    new Vue({\n      data: {\n        showFilters: false\n      },\n\n      render (createElement) {\n        const vm = this\n        return createElement(EcSearchEngine, {\n          attrs: {\n            id: elId\n          },\n          props: {\n            ...options.props,\n            term: urlParams.get('term'),\n            page: parseInt(urlParams.get('page'), 10),\n            brands: urlParams.getAll('brands'),\n            categories: urlParams.getAll('categories'),\n            navbarId: 'header',\n            showFilters: vm.showFilters,\n            prerenderedHTML: $searchEngine.outerHTML\n          },\n\n          on: {\n            'update:showFilters' (canShow) {\n              vm.showFilters = canShow\n              if ($overlay) {\n                if (canShow) {\n                  $overlay.show()\n                  $overlay.once('hide', () => {\n                    vm.showFilters = false\n                  })\n                } else {\n                  $overlay.hide()\n                }\n              }\n            }\n          }\n        })\n      }\n    }).$mount($searchEngine)\n  }\n}\n"],"sourceRoot":""}