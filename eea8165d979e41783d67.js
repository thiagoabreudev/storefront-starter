(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{360:function(t,e,r){"use strict";r.r(e);var s=r(110),a=r(15),d=r(98),o=r(168),i={name:"confirmation",components:{EcOrderInfo:r(296).a},data:()=>({canUpsertCart:!0}),computed:{...Object(s.c)(["orders","customer"]),orderId(){return this.$route.params.id},order:{get(){return this.orders.find((({_id:t})=>t===this.orderId))||{_id:this.orderId}},set(t){if(t&&t._id===this.orderId){const e=this.orders.concat(),r=e.find((({_id:e})=>e===t._id));r?Object.assign(r,t):e.push(t),this.setOrders(e)}}}},methods:{...Object(s.d)(["addOrder","setOrders","resetCart"]),...Object(s.b)(["saveCustomer"]),handleUpsertCart(){if(this.canUpsertCart){this.canUpsertCart=!1;const{status:t}=this.order;t&&"cancelled"!==t&&(a.a.data.completed=!0,this.orderId&&(a.a.data.orders||(a.a.data.orders=[]),a.a.data.orders.push(this.orderId)),Object(o.c)().then(this.resetCart))}}},created(){const{customer:t}=this;d.a.checkAuthorization()||t.main_email&&t.doc_number&&d.a.fetchLogin(t.main_email,t.doc_number).then((()=>{this.saveCustomer({ecomPassport:d.a}),this.handleUpsertCart()}))},mounted(){d.a.checkAuthorization()&&this.handleUpsertCart()}},n=r(61),c=Object(n.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"confirmation"}},[r("ec-order-info",{attrs:{order:t.order,isNew:!0},on:{"update:order":function(e){t.order=e}}})],1)}),[],!1,null,null,null);e.default=c.exports}}]);
//# sourceMappingURL=eea8165d979e41783d67.js.map